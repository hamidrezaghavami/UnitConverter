<!DOCTYPE html>
    <html lang = "en">
        <head>
            <meta charset="UTF-8">
            <title>Unit Converter Website</title>
            <style>
                .selected { background-color: #4CAF50; color: white;}
                input, button { margin: 5px; padding: 5px;}
            </style>
        </head>
        <body>
        
        <h2>Unit Converter</h2>

        <!--Unit converting sections-->
        <div class = "Unit-Converter">
        <input id="input1" type="number" placeholder="Enter the value">
        <input id="input2" type="text" placeholder="Unit from (length: mm, cm; weight: g, kg; temp: C, F)">
        <input id="input3" type="text" placeholder="Unit to (choose compatible unit)">
        </div>
        
        <!-- Unit section-->
        <div class="Units">
            <button data-subject="length">Length</button>
            <button data-subject="weight">Weight</button>
            <button data-subject="temperature">Temperature</button>
        </div>
        
        <!--Result section-->
        <div class = "Result">
            <input id="result" type="text" placeholder="Result of your calculation: " readonly>
            <button id="reset">Reset</button>
        </div>

        <!--submitting button-->
        <button id="submit">Convert</button>

        <script>
    let subject = null;

    // handle button selection
    document.querySelectorAll('.Units button').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.Units button').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            subject = btn.dataset.subject;
        });
    });
    // handle submit
    document.getElementById('submit').addEventListener('click', async () => {
        const input1 = document.getElementById('input1').value;
        const input2 = document.getElementById('input2').value;
        const input3 = document.getElementById('input3').value;
        
        if (!subject) {
            alert('Select a conversion type!');
            return;
        }

        try {
            const res = await fetch(`/api/convert`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ input1, input2, input3, subject })
            });
            const data = await res.json();
            document.getElementById('result').value = data.result || data.error;
        } catch (err) {
            alert("Error: " + err.message);
        }
    });
    </script>
    </body>
</html>